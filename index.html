<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TGIF小卡</title>
</head>
<body>
    <div class="result">
        <div class="title">恭喜你抽中了以下小卡：</div>
        <div id="lds-ellipsis" class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>
        <div id="image-container" class="image-container"></div>
    </div>
<script>
function preloadImages(imageUrls, callback) {
  const loadedImages = [];
  let loadedCount = 0;

  for (let i = 0; i < imageUrls.length; i++) {
    const img = new Image();
    img.onload = () => {
      loadedCount++;
      if (loadedCount === imageUrls.length) {
        // 所有图片都已加载完成
        callback(loadedImages);
      }
    };
    img.src = imageUrls[i];
    loadedImages.push(img);
  }
}

document.addEventListener("DOMContentLoaded", function() {
    // 初始化待抽取的数字数组
    var numbers = [
        // 'https://i.postimg.cc/8CTMdgQX/601693807551-pic-hd.png',
        
        // 'https://i.postimg.cc/HL35BvTY/611693807552-pic-hd.png',

        // 'https://i.postimg.cc/PNG8PBQ4/621693807553-pic-hd.png',
        
        // 'https://i.postimg.cc/mZPX1CSz/631693807554-pic-hd.png',
        
        // 'https://i.postimg.cc/W3HZPDDx/641693807554-pic-hd.png',
        
        // 'https://i.postimg.cc/NMMXV801/651693807555-pic-hd.png',

        // 'https://i.postimg.cc/sxGhfV7x/661693807557-pic-hd.png'

        'https://i.postimg.cc/4KM45NZ0/601693807551-pic.jpg',

'https://i.postimg.cc/2bZkXRSS/611693807552-pic.jpg',

'https://i.postimg.cc/tY5XczpW/621693807553-pic.jpg',

'https://i.postimg.cc/z3TDCrQd/631693807554-pic.jpg',

'https://i.postimg.cc/wR56gXJK/641693807554-pic.jpg',

'https://i.postimg.cc/ZCZbjQtJ/651693807555-pic.jpg',

'https://i.postimg.cc/dZcqbHhm/661693807557-pic.jpg',


    ];

    // 用于存放抽取结果的数组
    var resultArray = [];

    // 生成一个随机索引
    var randomIndex = Math.floor(Math.random() * numbers.length);

    var imgElement = document.createElement("img"); // 创建 <img> 元素
    // imgElement.src = numbers[randomIndex]; // 设置 src 属性
    // imgElement.style.display = "none";
    // imgElement.onload = function() {
    //     var ldsEllipsis = document.getElementById("lds-ellipsis"); // 获取图片容器
    //     ldsEllipsis.style.display = "none";
    //     setTimeout(() => {
    //         imgElement.style.display = "block";
    //     }, 2000);
    //     console.log("图片加载成功！");
    //     // 在这里可以执行其他操作，比如更新页面内容
    // };
    var ldsEllipsis = document.getElementById("lds-ellipsis"); // 获取图片容器
    var imageContainer = document.getElementById("image-container"); // 获取图片容器
    preloadImages(numbers, function(loadedImages) {
        const resImg = loadedImages[randomIndex];
        // // 所有图片都已加载完成，可以进行下一步操作
        // console.log('所有图片已加载完成');
        // // 在这里可以使用 loadedImages 数组中的图片
        // console.log(loadedImages)
        ldsEllipsis.style.display = "none";
        // imageContainer.style.display = "none";
        // setTimeout(() => {
            imageContainer.appendChild(resImg);
        // }, 2000)
    });

    // var imageContainer = document.getElementById("image-container"); // 获取图片容器
    // imageContainer.appendChild(imgElement); // 将 <img> 元素添加到容器中
});
</script>
</body>

<style>
    * {
        margin: 0;
        padding: 0;
    }
    html {
        font-size: 100px;
    }
    @media screen and (max-width: 360px) {
        html {
            font-size: 90px!important;
        }
    }
    body {
        height: 100%;
        text-align: center;
        display: flex;
        justify-content: center;
        flex-direction: column;
        align-items: center;
        background-color: #77a799;
        height: 100vh; /* 100% 视口高度 */
    }
    .result {
        margin: auto;
    }
    .title {
        font: 18px/24px -apple-system,Arial,Helvetica,sans-serif;
        color: #1e1f24;
        font-weight: 500!important;
        font-family: -apple-system,Arial,Helvetica,sans-serif;
        -webkit-text-stroke: 0;
    }
    .image-container {
        width: 3.6rem;
    }
    .image-container img {
        width: 100%;
        height: auto;
        image-rendering: -moz-crisp-edges; /* Firefox */
        image-rendering: -o-crisp-edges; /* Opera */
        image-rendering: -webkit-optimize-contrast; /* Webkit (non-standard naming) */
        image-rendering: crisp-edges;
        -ms-interpolation-mode: nearest-neighbor; /* IE (non-standard property) */
    }
    .title,img {
        margin: 0 auto;
    }
    img {
        margin-top: .12rem;
        border-radius: .12rem;
        border: 1px solid rgba(0,0,0,.09);
    }
    .lds-ellipsis {
        display: inline-block;
        position: relative;
        width: .8rem;
        height: .8rem;
    }
    .lds-ellipsis div {
        position: absolute;
        top: .33rem;
        width: .13rem;
        height: .13rem;
        border-radius: 50%;
        background: #bde6d9;
        animation-timing-function: cubic-bezier(0, 1, 1, 0);
    }
    .lds-ellipsis div:nth-child(1) {
        left: .08rem;
        animation: lds-ellipsis1 0.6s infinite;
    }
    .lds-ellipsis div:nth-child(2) {
        left: .08rem;
        animation: lds-ellipsis2 0.6s infinite;
    }
    .lds-ellipsis div:nth-child(3) {
        left: .32rem;
        animation: lds-ellipsis2 0.6s infinite;
    }
    .lds-ellipsis div:nth-child(4) {
        left: .56rem;
        animation: lds-ellipsis3 0.6s infinite;
    }
    @keyframes lds-ellipsis1 {
        0% {
            transform: scale(0);
        }
        100% {
            transform: scale(1);
        }
        }
        @keyframes lds-ellipsis3 {
        0% {
            transform: scale(1);
        }
        100% {
            transform: scale(0);
        }
        }
        @keyframes lds-ellipsis2 {
        0% {
            transform: translate(0, 0);
        }
        100% {
            transform: translate(.24rem, 0);
        }
    }

</style>
</html>